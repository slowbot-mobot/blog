$(document).ready(function(){var t=JSON.parse($("<div/>").html($("#json_posts").html()).text()),e=function(t){var e=t.title,a=t.author,n=t.summary,i=t.published_on,d=t.permalink,r=$("#taggedPostTemplate").clone();r.removeAttr("id"),r.append($("<div></div>").addClass("post-title").text(e)),r.append($("<div></div>").addClass("post-author").text(a)),r.append($("<div></div>").addClass("post-date").text(i)),r.append($("<div></div>").addClass("post-body").html(n)),r.append($("<a href="+d+"></a>").addClass("post-link").text("Continue reading this article")),$("#posts").append(r)},a=function(t){for(var a=n().toString(),i=[],d=0;d<t.length;d++)-1!==t[d].tags.indexOf(a)&&i.push(t[d]);for(d=0;d<i.length;d++)e(i[d])},n=function(){var t=window.location.search.substring(1);return t},i=function(t,e){d(t.filter(function(t){return t.title!==$(".post-title h2").text()}).filter(function(t){return t.tags.filter(function(t){return e.includes(t)})}))},d=function(t){_.sample(t,3).forEach(function(t){var e=$("#relatedPostTemplate").clone();e.removeAttr("id"),e.append($("<a href="+t.permalink+"></a>").addClass("title").text(t.title)),$("#relatedPosts").append(e)})};i(t,$("#currTags").text().split(",")),a(t)});